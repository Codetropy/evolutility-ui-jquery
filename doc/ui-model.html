<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link href="../dist/css/demo.css" rel="stylesheet" />
    <link href="../dist/css/evolutility.css" rel="stylesheet" />
    <link id="bwCSS" href="../dist/css/vendors.min.css" rel="stylesheet" />
    <title>Meta Model</title>
</head>
<body>

<div class="evo-header">
    <div class="evo-logo"><a href="../index.html"><span>evol</span>utility<span>.js</span></a></div>
    <ul class="evo-head-links">
        <li><a href="../demo/index.html">demo</a></li>
        <li><a href="../doc/index.html" class="sel">doc</a></li>
        <li><a href="https://github.com/evoluteur/evolutility" target="_new">GitHub</a></li>
    </ul>
    <ul class="evo-head-links2">
        <li><a href="ui-model.html" class="sel">ui-model</a></li>
        <li><a href="views.html">views</a></li>
        <li><a href="controller.html">controller</a></li>
    </ul>
    <div class="clearfix"></div>
</div>

<div class="evo-title2">
    <h1>UI Model</h1>
</div>


<div class="evo-content3">

<p>Attributes in your Backbone model are mapped to <a href="#fields">fields</a> in UI model. This page describes the "vocabulary" (or API) to define UI models.</p>

<p>Fields are grouped in <a href="#panels">panels</a>, panels can be grouped in <a href="#tabs">tabs</a>.
    Sub-collections can be included as <a href="#panel-list">panel-list</a>.
</p>

<p>It is a first draft and it is nor fully implemented yet but a work in progress based on
    <a href="http://www.codeproject.com/Articles/28636/Minimalist-Meta-Model-for-CRUD-Applications" target="evomm">Evolutility minimalist meta-model</a>.</p>



<p class="evo-h-gap">&nbsp;</p>
<section id="object">
    <p></p>
<h1>object</h1>

<p>An "object" is the UI information added to the Backbone model.
This ui-model defines all <a href="views.html">views</a>.</p>



<table class="table table-bordered">
    <tbody><tr>
        <td style="width: 120px; ">entity<span class="evol-required">*</span>
        </td>
        <td>User's object name for the database object (for example: "task" for a
            to do list application).
        </td>
    </tr>
    <tr>
        <td>entities<span class="evol-required">*</span>
        </td>
        <td>Plural for <code>entity</code> (example &quot;tasks&quot; for the to do list).
        </td>
    </tr>
    <tr>
        <td>elements[]<span class="evol-required">*</span>
        </td>
        <td>
            Array of tabs or panels which contains fields.
        </td>
    </tr>
    <tr>
        <td>leadfield</td>
        <td>id of the field which value is the page title (when using option "$title"). Can also be a function taking model as a parameter.
            (example &quot;firstname&quot; or "function(model){return model.get('firstname')+' '+model.get('lastname')}").</td>
    </tr>
    <tr>
        <td>icon
        </td>
        <td>Filename of the records icon (same one for all records).
            <br />
            Example: <code>icon</code> =&quot;todo.png&quot;
        </td>
    </tr>
    <tr>
        <td>$title</td>
        <td>jQuery selector for an element outside of the View to show item main fild as a title on navigation.
            <br />
            Example: <code>$title</code>=&quot;#title&quot; </td>
    </tr>
    </tbody></table>

    <span class="evol-required">*</span>: required attribute.
</section>

<a name="fields"></a>
<p class="evo-h-gap">&nbsp;</p>
<p>&nbsp;</p>
<section id="field">
    <h1>field</h1>
    <p>Attributes in your Backbone model are mapped to fields in the UI.</p>
    <p>These fields have the following properties:</p>

    <table class="table table-bordered">
        <tbody>

        <tr>
            <th colspan="2">Identity</th>
        </tr>
        <tr>
            <td>attribute </td>
            <td>Model attribute mapping to the field.
                If no value is provided for "attribute", the value of the attribute "id" is used.</td>
        </tr>
        <tr>
            <td>id<span class="evol-required">*</span></td>
            <td>Field Id in the UI.</td>
        </tr>
        <tr>
            <td>label<span class="evol-required">*</span>, label-one,<br /> label-many
            </td>
            <td>Field title (in different views). Only <code>label</code> is mandatory and will be the default for all other modes if not specified.
            </td>
        </tr>
        <tr>
            <td>type<span class="evol-required">*</span>
            </td>
            <td>
                <p>The type of the field in the UI.</p>

                <ul class="indent list-unstyled" style="float:left;width:170px">
                    <li><span data-id="#boolean"><img src="pix/dico/ft-bool.gif" alt="" class="Icon">boolean</span></li>
                    <li><span data-id="#color"><img src="pix/dico/ft-color.gif" alt="" class="Icon">color</span></li>
                    <li><span data-id="#date"><img src="pix/dico/ft-date.gif" alt="" class="Icon">date</span></li>
                    <li><span data-id="#datetime"><img src="pix/dico/ft-datehm.gif" alt="" class="Icon">datetime</span></li>
                    <li><span data-id="#decimal"><img src="pix/dico/ft-dec.gif" alt="" class="Icon">decimal</span></li>
                    <li><span data-id="#document"><img src="pix/dico/ft-doc.gif" alt="" class="Icon">document</span></li>
                    <li><span data-id="#email"><img src="pix/dico/ft-email.gif" alt="" class="Icon">email</span></li>
                    <li><span data-id="#formula"><img src="pix/dico/ft-fn.gif" alt="" class="Icon">formula</span></li>
                    <li><span data-id="#html"><img alt="" class="Icon" src="pix/dico/ft-htm.gif">html (RTF)</span></li>
                </ul>
                <ul class="indent list-unstyled" style="float:left;width:170px">
                    <li><span data-id="#image"><img src="pix/dico/ft-img.gif" alt="" class="Icon">image</span></li>
                    <li><span data-id="#url"><img src="pix/dico/ft-url.gif" alt="" class="Icon">URL</span></li>
                    <li><span data-id="#lov"><img src="pix/dico/ft-lov.gif" alt="" class="Icon">lov (list of values)</span></li>
                    <li><span data-id="#list"><img src="pix/dico/ft-lov.gif" alt="" class="Icon">list (multiple values)</span></li>
                    <li><span data-id="#money"><img src="pix/dico/ft-money.gif" alt="" class="Icon">money</span></li>
                    <li><span data-id="#text"><img src="pix/dico/ft-txt.gif" alt="" class="Icon">text</span></li>
                    <li><span data-id="#textmultiline"><img src="pix/dico/ft-txtml.gif" alt="" class="Icon">textmultiline</span></li>
                    <li><span data-id="#integer"><img src="pix/dico/ft-int.gif" alt="" class="Icon">integer</span></li>
                    <li><span data-id="#time"><img src="pix/dico/ft-time.gif" alt="" class="Icon">time</span></li>
                </ul>

                <div class="clearfix"></div>
            </td>
        </tr>

        <tr>
            <th colspan="2">Layout</th>
        </tr>
        <tr>
            <td >css
            </td>
            <td>CSS class name for the specific field.
            </td>
        </tr>
        <tr>
            <td>csslabel
            </td>
            <td>CSS class name for the specific field label (in modes Edit and View).
            </td>
        </tr>
        <tr>
            <td>format
            </td>
            <td>Field format (for fields of type boolean, date, decimal, or integer).
                <br />
                Example: <code>format</code>=&quot;'$'#,##0.00&quot;
            </td>
        </tr>
        <tr>
            <td>height
            </td>
            <td>Height of the field, in number of rows (default to 1 for all field except
                fields of type TextMultilines).
            </td>
        </tr>
        <tr>
            <td>help
            </td>
            <td>Help tooltip for the field (only used in Edit mode).
            </td>
        </tr>
        <tr>
            <td>img
            </td>
            <td>Image to display (for fields of type &quot;boolean&quot; or &quot;url&quot;) in Edit or View modes.
            </td>
        </tr>
        <tr>
            <td>width
            </td>
            <td><p>Width of the field in percentage of the Panel it belongs to.
                <br/>Default: 100%
            </p></td>
        </tr>


        <tr>
            <th colspan="2">Validation</th>
        </tr>
        <tr>
            <td>defaultvalue
            </td>
            <td>Default value for the field displayed while creating a new record.
            </td>
        </tr>
        <tr>
            <td>max</td>
            <td>Maximum value allowed for the field (depending on field type).</td>
        </tr>
        <tr>
            <td>maxlength</td>
            <td>Maximum number of characters allowed for the field value.
            </td>
        </tr>
        <tr>
            <td>min</td>
            <td>Minimum value allowed for the field (depending on field type).</td>
        </tr>
        <tr>
            <td>minlength</td>
            <td>Minimum number of characters allowed for the field value to be valid.
            </td>
        </tr>
        <tr>
            <td>regex
            </td>
            <td>Regular expression to validate the field value against.
            </td>
        </tr>
        <tr>
            <td>required
            </td>
            <td>Determines if the field is required for saving the record.
            </td>
        </tr>
        <tr>
            <td>jsvalidation</td>
            <td>Name of the Javascript custom method for the field validation (validation for required, min, max, type is automatically done).</td>
        </tr>


        <tr>
            <th colspan="2">Behavior</th>
        </tr>
        <tr>
            <td>link
            </td>
            <td>Forces the field to be displayed as a link to another web page. It can use
                the following variables @itemid, @userid, @fieldid.
            </td>
        </tr>
        <tr>
            <td>linklabel
            </td>
            <td>Display a sentence or an image as the link. Can also be a function (model)
            </td>
        </tr>
        <tr>
            <td>linktarget
            </td>
            <td>Directs to a new tab in the browser (HTML attribute "target").
            </td>
        </tr>
        <tr>
            <td>optional
            </td>
            <td>Filter condition to hide the field. Example: function(model){return model.get('type')=='integer';}
            </td>
        </tr>
        <tr>
            <td>readonly
            </td>
            <td>
                <code>readonly</code>=1 presents edition of the field. <code>
                readonly</code>=2 presents edition of the field, but allows typing in
                insertion.
            </td>
        </tr>
        <tr>
            <td>sortable
            </td>
            <td>Column can be sorted by the field value (using ViewMany).
            </td>
        </tr>
        <tr>
            <td>tooltip
            </td>
            <td>Tooltip when the mouse is over the field.
            </td>
        </tr>
        <tr>
            <td>viewcharts
            </td>
            <td>Determines if a chart of record grouped by the field is shown (using ViewMany in chart mode).
            </td>
        </tr>
        <tr>
            <td>viewmany, viewlist, <br/>
                viewbadges, viewedit, <br/>
                viewmini, viewexport,
                viewcharts
            </td>
            <td>Determines if the field is available in specific views.
            </td>
        </tr>
        </tbody></table>
</section>

<a name="panels"></a>
<p class="evo-h-gap">&nbsp;</p>
<p>&nbsp;</p>
<section id="panel">
    <p></p>
    <h1>panel</h1>

    <p>The <code>panel</code> element is used to group fields together in the forms.
        Fields are grouped in panels and panels can be grouped in tabs. </p>

    <table class="table table-bordered">
        <tbody>
        <tr>
            <td>id</td>
            <td>Panel Id in the UI (if not specified, the default is "p-&lt;panel index&gt;").</td>
        </tr>
        <tr>
            <td style="width: 120px; ">css
            </td>
            <td>CSS class for the panel. The default value is &quot;Panel&quot;.
            </td>
        </tr>
        <tr>
            <td>csslabel
            </td>
            <td>
                CSS class for the panel title. The default value is &quot;PanelLabel&quot;.
            </td>
        </tr>
        <tr>
            <td>elements[]<span class="evol-required">*</span>
            </td>
            <td>
                Array of fields.
            </td>
        </tr>
        <tr>
            <td>label<span class="evol-required">*</span>
            </td>
            <td>Panel title.
            </td>
        </tr>
        <tr>
            <td>optional
            </td>
            <td>
                Skips the panel from displaying, if every field contained is empty and
                optional (in View mode only).
            </td>
        </tr>
        <tr>
            <td>width
            </td>
            <td>Width of the panel in percentage of the total width of the form.<br />
                Example: <code>width</code>=&quot;100&quot; for the full width.
            </td>
        </tr>
        </tbody></table>

    </section>

<a name="panel-list"></a>
<p class="evo-h-gap">&nbsp;</p>
<p>&nbsp;</p>
<section id="panel-list">
        <p></p>
        <h1>panel-list</h1>

    <p>Similar to a panel but used to display a sub-collection (an array of objects).</p>

    <table class="table table-bordered">
        <tbody>
        <tr>
            <td>attribute<span class="evol-required">*</span></td>
            <td>Model attribute for the sub-collection.</td>
        </tr>
        <tr>
            <td>id<span class="evol-required">*</span></td>
            <td>Panel Id in the UI.</td>
        </tr>
        <tr>
            <td style="width: 120px; ">css
            </td>
            <td>CSS class for the panel. The default value is &quot;Panel&quot;.
            </td>
        </tr>
        <tr>
            <td>csslabel
            </td>
            <td>
                CSS class for the panel title. The default value is &quot;PanelLabel&quot;.
            </td>
        </tr>
        <tr>
            <td>elements[]<span class="evol-required">*</span>
            </td>
            <td>
                Array of fields in the sub-collection.
            </td>
        </tr>
        <tr>
            <td>label
            </td>
            <td>Panel title.
            </td>
        </tr>
        <tr>
            <td>width
            </td>
            <td>Width of the panel in percentage of the total width of the form.<br />
                Example: <code>width</code>=&quot;100&quot; for the full width.
            </td>
        </tr>
        </tbody></table>

    </section>

<a name="tabs"></a>
<p class="evo-h-gap">&nbsp;</p>
<p>&nbsp;</p>
<section id="tab">
    <p></p>
    <h1>tab</h1>
    <p>The <code>tab</code> element can be used to group panels and panel-lists.</p>
    <table class="table table-bordered">
        <tbody><tr>
            <td style="width: 120px; ">
                css
            </td>
            <td>
                CSS class for the tab. The default value is &quot;Tab&quot;.
            </td>
        </tr>
        <tr>
            <td>
                csslabel
            </td>
            <td>
                CSS class for the tab title. The default value is &quot;TabLabel&quot;.
            </td>
        </tr>
        <tr>
            <td>elements[]<span class="evol-required">*</span>
            </td>
            <td>
                Array of panels and panel-lists.
            </td>
        </tr>
        <tr>
            <td>
                label<span class="evol-required">*</span>
            </td>
            <td>
                Tab title.
            </td>
        </tr>
        </tbody></table>
</section>

<a name="sample"></a>
<p class="evo-h-gap">&nbsp;</p>
<p>&nbsp;</p>
<section id="sample">
    <p></p>

    <h1>Sample UI-model</h1>

    <p>The classic "todo app".</p>

    <iframe style="width:100%;height:300px" src="../js/ui-models/apps/todo.js"></iframe>


</section>


<p><br/>evolutility.js at <a href="https://github.com/evoluteur/evolutility" target="download">GitHub</a></p>

</div>

<div class="footer">&#169; 2014 Olivier Giulieri</div>
</body>

</html>